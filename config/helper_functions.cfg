#!/bin/bash
# Helper functions for bridge operations

function confirmation {
  local function_name="$1"
  echo "========================================"
  echo "Executing: $function_name"
  echo "========================================"
  read -p "Continue? (y/n, default n): " answer
  answer=${answer:-n}
  if [[ $answer == "y" || $answer == "Y" ]]; then
    shift
    "$function_name" "$@"
    echo "✅ $function_name completed"
  else
    echo "⏩ Skipping $function_name"
  fi
  echo ""
}

# Menu configuration functions
function confirmation-with-skip {
  local function_name="$1"
  echo "========================================"
  echo "About to execute: $function_name"
  echo "========================================"
  read -p "Execute this step? (y/n/s for skip all, default n): " answer
  answer=${answer:-n}
  if [[ $answer == "y" || $answer == "Y" ]]; then
    shift
    "$function_name" "$@"
    echo "✅ $function_name completed"
  elif [[ $answer == "s" || $answer == "S" ]]; then
    echo "⏩ Skipping all remaining steps"
    exit 0
  else
    echo "⏩ Skipping $function_name"
  fi
  echo ""
}

# Manual config update reminder
function manual-update-config-file() {
  echo "========================================"
  echo "MANUAL ACTION REQUIRED"
  echo "========================================"
  echo "Please update the config/config.cfg file with the latest values"
  echo "Check the output files in the config/ directory for new object IDs"
  echo ""
  read -p "Press Enter when config file has been updated..."
}